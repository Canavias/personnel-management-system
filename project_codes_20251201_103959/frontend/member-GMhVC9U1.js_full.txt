=== ./frontend/dist/assets/member-GMhVC9U1.js ===
import{H as u,r as d,I as s}from"./index-BcrAjMzN.js";const i=a=>{const o={};return Object.keys(a).forEach(n=>{a[n]===void 0||a[n]===""?o[n]=null:o[n]=a[n]}),o},_=u("member",()=>{const a=d([]),o=d(!1),n=d(0),c=async()=>{o.value=!0;try{const t=await s.get("/members");console.log("âœ… æˆå‘˜æ•°æ®åŠ è½½æˆåŠŸï¼Œæ€»æ•°:",t.data.length),t.data.forEach((r,l)=>{console.log(`æˆå‘˜ ${l+1}: ${r.name} | æ€§åˆ«: ${r.gender} | ID: ${r.id} | æ›´æ–°æ—¶é—´: ${r.updated_at}`)});const e=t.data.find(r=>r.id===12);e&&console.log("ğŸ” ç‰¹åˆ«æ£€æŸ¥ID=12çš„æˆå‘˜:",e),a.value=t.data,n.value=t.data.length}catch(t){throw console.error("è·å–æˆå‘˜åˆ—è¡¨å¤±è´¥:",t),t}finally{o.value=!1}};return{members:a,loading:o,total:n,fetchMembers:c,searchMembers:async t=>{if(!t.trim()){await c();return}o.value=!0;try{const e=await s.get(`/members/search/${encodeURIComponent(t)}`);a.value=e.data,n.value=e.data.length}catch(e){throw console.error("æœç´¢æˆå‘˜å¤±è´¥:",e),e}finally{o.value=!1}},addMember:async t=>{try{const e=i({name:t.name,gender:t.gender,grade:t.grade,student_id:t.student_id,phone:t.phone,email:t.email,department_id:t.department_id,role_id:t.role_id}),r=await s.post("/members",e);return await c(),r.data}catch(e){throw console.error("æ·»åŠ æˆå‘˜å¤±è´¥:",e),e}},updateMember:async(t,e)=>{try{const r=i({name:e.name,gender:e.gender,grade:e.grade,student_id:e.student_id,phone:e.phone,email:e.email,department_id:e.department_id,role_id:e.role_id,is_active:!0});console.log("ğŸ”„ è°ƒç”¨æ›´æ–°APIï¼ŒID:",t),console.log("ğŸ“¤ æ¸…ç†åçš„æ›´æ–°æ•°æ®:",r);const l=await s.put(`/members/${t}`,r);return console.log("âœ… æ›´æ–°APIå“åº”:",l.data),console.log("ğŸ”„ å¼ºåˆ¶é‡æ–°è·å–æ•°æ®..."),await c(),l.data}catch(r){throw console.error("æ›´æ–°æˆå‘˜å¤±è´¥:",r),r}},deleteMember:async t=>{try{await s.delete(`/members/${t}`),await c()}catch(e){throw console.error("åˆ é™¤æˆå‘˜å¤±è´¥:",e),e}},fetchMembersByDepartment:async t=>{o.value=!0;try{return(await s.get(`/members/department/${t}`)).data}catch(e){throw console.error("è·å–éƒ¨é—¨æˆå‘˜å¤±è´¥:",e),e}finally{o.value=!1}}}});export{_ as u};



