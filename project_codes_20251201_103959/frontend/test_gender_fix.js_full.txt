=== ./frontend/test_gender_fix.js ===
// æµ‹è¯•æ€§åˆ«è½¬æ¢å‡½æ•°
function convertValueToGender(value) {
  console.log('ğŸ” æµ‹è¯• - è¾“å…¥:', value, 'ç±»å‹:', typeof value);
  
  // ç¡®ä¿valueæ˜¯æ•°å­—
  let genderValue = value;
  if (typeof value === 'string') {
    genderValue = parseInt(value);
  }
  
  const genderMap = { 1: 'ç”·', 2: 'å¥³', 3: 'å…¶ä»–' };
  const result = genderMap[genderValue] || 'ç”·';
  console.log('ğŸ” æµ‹è¯• - è¾“å‡º:', result);
  return result;
}

// æµ‹è¯•ç”¨ä¾‹
console.log('ğŸ§ª å¼€å§‹æ€§åˆ«è½¬æ¢æµ‹è¯•...\n');

const testCases = [
  { input: 1, expected: 'ç”·' },
  { input: 2, expected: 'å¥³' },
  { input: 3, expected: 'å…¶ä»–' },
  { input: '1', expected: 'ç”·' },
  { input: '2', expected: 'å¥³' },
  { input: '3', expected: 'å…¶ä»–' },
  { input: 'Ã§â€Â·', expected: 'ç”·' }, // ä¹±ç åº”è¯¥è¢«è½¬æ¢ä¸ºæ•°å­—
  { input: 'Ã¥Â¥Â³', expected: 'å¥³' },  // ä¹±ç åº”è¯¥è¢«è½¬æ¢ä¸ºæ•°å­—
];

testCases.forEach((test, index) => {
  console.log(`æµ‹è¯• ${index + 1}:`);
  const result = convertValueToGender(test.input);
  const passed = result === test.expected;
  console.log(`  è¾“å…¥: ${test.input} | æœŸæœ›: ${test.expected} | å®é™…: ${result} | ${passed ? 'âœ… é€šè¿‡' : 'âŒ å¤±è´¥'}\n`);
});



