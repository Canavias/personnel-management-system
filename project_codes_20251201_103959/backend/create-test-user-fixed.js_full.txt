=== ./backend/create-test-user-fixed.js ===
const bcrypt = require('bcryptjs');
const { pool } = require('./config/database');

async function createTestUser() {
  try {
    const hashedPassword = await bcrypt.hash('123456', 10);
    
    const [result] = await pool.execute(
      'INSERT INTO users (username, password_hash, email, role_id, created_at) VALUES (?, ?, ?, ?, NOW())',
      ['test', hashedPassword, 'test@example.com', 1]  // role_id 1 é€šå¸¸æ˜¯ç«™é•¿
    );
    
    console.log('âœ… æµ‹è¯•ç”¨æˆ·åˆ›å»ºæˆåŠŸ');
    console.log('ç”¨æˆ·å: test');
    console.log('å¯†ç : 123456');
    console.log('ç”¨æˆ·ID:', result.insertId);
    
  } catch (error) {
    if (error.code === 'ER_DUP_ENTRY') {
      console.log('â„¹ï¸ æµ‹è¯•ç”¨æˆ·å·²å­˜åœ¨');
    } else {
      console.error('âŒ åˆ›å»ºæµ‹è¯•ç”¨æˆ·å¤±è´¥:', error.message);
      console.log('ğŸ”§ é”™è¯¯è¯¦æƒ…:', error);
    }
  } finally {
    process.exit();
  }
}

createTestUser();



